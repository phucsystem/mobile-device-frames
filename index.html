<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>mobile-device-frames — Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="frame.css">
  <style>
    /* --- Theme tokens --- */
    :root {
      --d-bg: #E8ECF0;
      --d-panel: #fff;
      --d-input: #F5F5F7;
      --d-border: #E0E0E0;
      --d-divider: #EEEEEE;
      --d-text: #1D1D1F;
      --d-text-2: #6E6E73;
      --d-text-3: #AEAEB2;
      --d-chip: #F5F5F7;
      --d-chip-text: #6E6E73;
      --d-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 6px 24px rgba(0,0,0,0.06);
      --d-accent: #1976D2;
      --d-hover: #F0F0F2;
    }

    body.demo-dark {
      --d-bg: #1a1a2e;
      --d-panel: #222236;
      --d-input: #2a2a42;
      --d-border: #3a3a52;
      --d-divider: #3a3a52;
      --d-text: #E5E5EA;
      --d-text-2: #98989D;
      --d-text-3: #636366;
      --d-chip: #2a2a42;
      --d-chip-text: #98989D;
      --d-shadow: 0 1px 3px rgba(0,0,0,0.15), 0 6px 24px rgba(0,0,0,0.2);
      --d-hover: #32324a;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Roboto', sans-serif;
      background: var(--d-bg);
      color: var(--d-text);
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* --- Header --- */
    .demo-header {
      text-align: center;
      padding: 48px 24px 28px;
    }

    .demo-header h1 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--d-text);
    }

    .demo-header p {
      font-size: 16px;
      color: var(--d-text-2);
      max-width: 600px;
      margin: 0 auto;
    }

    /* --- Toolbar card --- */
    .demo-toolbar {
      max-width: 720px;
      margin: 0 auto 28px;
      padding: 16px 20px;
      background: var(--d-panel);
      border-radius: 16px;
      box-shadow: var(--d-shadow);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }

    .demo-toolbar-row {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .demo-toolbar-row + .demo-toolbar-row {
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid var(--d-divider);
    }

    .demo-toolbar-group {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .demo-toolbar-label {
      font-size: 11px;
      font-weight: 600;
      color: var(--d-text-3);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      white-space: nowrap;
    }

    .demo-toolbar-divider {
      width: 1px;
      height: 24px;
      background: var(--d-divider);
      flex-shrink: 0;
    }

    .demo-toolbar-spacer { flex: 1; }

    /* --- Shared form elements --- */
    .demo-select {
      padding: 6px 28px 6px 10px;
      border-radius: 8px;
      border: 1px solid var(--d-border);
      background: var(--d-input);
      font-size: 13px;
      font-weight: 500;
      color: var(--d-text);
      cursor: pointer;
      outline: none;
      appearance: none;
      -webkit-appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1l4 4 4-4' stroke='%239E9E9E' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 8px center;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.3s ease;
    }

    .demo-select:focus {
      border-color: var(--d-accent);
      box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.12);
    }

    .demo-input {
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid var(--d-border);
      background: var(--d-input);
      font-size: 13px;
      font-weight: 500;
      color: var(--d-text);
      outline: none;
      flex: 1;
      min-width: 180px;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background-color 0.3s ease;
    }

    .demo-input:focus {
      border-color: var(--d-accent);
      box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.12);
    }

    .demo-btn {
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid var(--d-border);
      background: var(--d-input);
      font-size: 13px;
      font-weight: 500;
      color: var(--d-text);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
      transition: all 0.15s ease;
    }

    .demo-btn:hover { background: var(--d-hover); }

    .demo-btn--primary {
      background: var(--d-accent);
      border-color: var(--d-accent);
      color: #fff;
    }

    .demo-btn--primary:hover { background: #1565C0; }

    /* --- Toggle switch --- */
    .demo-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      white-space: nowrap;
      font-size: 13px;
      font-weight: 500;
      color: var(--d-text);
      user-select: none;
      -webkit-user-select: none;
    }

    .demo-toggle input { position: absolute; opacity: 0; pointer-events: none; }

    .demo-toggle-track {
      position: relative;
      width: 36px;
      height: 20px;
      background: var(--d-border);
      border-radius: 10px;
      flex-shrink: 0;
      transition: background-color 0.2s ease;
    }

    .demo-toggle-track::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 1px 3px rgba(0,0,0,0.15);
      transition: transform 0.2s ease;
    }

    .demo-toggle input:checked + .demo-toggle-track {
      background: var(--d-accent);
    }

    .demo-toggle input:checked + .demo-toggle-track::after {
      transform: translateX(16px);
    }

    /* --- Device specs chips --- */
    .demo-specs {
      display: flex;
      justify-content: center;
      gap: 6px;
      flex-wrap: wrap;
      margin-top: 10px;
    }

    .demo-specs span {
      font-size: 11px;
      font-weight: 500;
      color: var(--d-chip-text);
      background: var(--d-chip);
      padding: 3px 10px;
      border-radius: 6px;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* Override stage for demo — no min-height */
    .df-stage {
      min-height: auto;
      padding: 0 24px 48px;
    }

    /* Sample app content */
    .sample-app {
      display: flex;
      flex-direction: column;
      height: 100%;
      background: #fff;
    }

    .sample-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 52px 20px 12px;
      background: #fff;
    }

    .sample-header h2 {
      font-size: 20px;
      font-weight: 600;
    }

    .sample-header .avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
    }

    .sample-content {
      flex: 1;
      overflow-y: auto;
      padding: 8px 20px 24px;
    }

    .sample-card {
      background: #F5F5F5;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 12px;
    }

    .sample-card-title {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .sample-card-text {
      font-size: 13px;
      color: #757575;
      line-height: 1.5;
    }

    .sample-card-img {
      height: 120px;
      border-radius: 12px;
      margin-bottom: 12px;
    }

    .sample-bottom-bar {
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 12px 0 max(12px, env(safe-area-inset-bottom));
      border-top: 1px solid #EEEEEE;
      background: #fff;
    }

    .sample-tab {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      font-size: 10px;
      color: #9E9E9E;
    }

    .sample-tab.active {
      color: #1976D2;
    }

    .sample-tab svg {
      width: 24px;
      height: 24px;
    }

    /* Grid demo */
    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(460px, 1fr));
      gap: 32px;
      padding: 0 24px 48px;
      max-width: 1800px;
      margin: 0 auto;
    }

    .demo-grid .df-stage {
      padding: 0;
    }

    .demo-grid-item {
      text-align: center;
    }

    .demo-grid-item .df-frame {
      transition: width 0.4s cubic-bezier(0.32, 0.72, 0, 1),
                  height 0.4s cubic-bezier(0.32, 0.72, 0, 1),
                  transform 0.4s cubic-bezier(0.32, 0.72, 0, 1),
                  margin-bottom 0.4s cubic-bezier(0.32, 0.72, 0, 1);
      transform-origin: top center;
    }

    .demo-grid-item-label {
      margin-top: 12px;
      font-size: 13px;
      font-weight: 600;
      color: var(--d-text);
    }

    .demo-grid-item-specs {
      font-size: 11px;
      color: var(--d-text-3);
      margin-top: 4px;
    }

    .demo-section-title {
      text-align: center;
      font-size: 22px;
      font-weight: 700;
      padding: 48px 24px 24px;
      color: var(--d-text);
    }

    .demo-section-subtitle {
      text-align: center;
      font-size: 14px;
      color: var(--d-text-2);
      margin-top: -16px;
      margin-bottom: 32px;
    }

    /* --- Toolbar responsive --- */
    @media (max-width: 600px) {
      .demo-toolbar { margin: 0 12px 20px; padding: 12px 14px; }
      .demo-toolbar-divider { display: none; }
      .demo-toolbar-row { gap: 8px; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <div class="demo-header">
    <h1>mobile-device-frames</h1>
    <p>Wrap HTML prototypes in realistic device frames with navigation, responsive behavior, and safe areas. No build step required.</p>
  </div>

  <!-- Toolbar -->
  <div class="demo-toolbar">
    <!-- Row 1: Device + Appearance -->
    <div class="demo-toolbar-row">
      <div class="demo-toolbar-group">
        <span class="demo-toolbar-label">Device</span>
        <select id="device-picker" class="demo-select">
          <option value="iphone-16-pro-max">iPhone 16 Pro Max</option>
          <option value="iphone-16-pro" selected>iPhone 16 Pro</option>
          <option value="iphone-16">iPhone 16</option>
          <option value="iphone-se">iPhone SE 3rd</option>
          <option value="galaxy-s24-ultra">Galaxy S24 Ultra</option>
          <option value="galaxy-s24">Galaxy S24</option>
          <option value="pixel-9-pro">Pixel 9 Pro</option>
          <option value="pixel-9">Pixel 9</option>
        </select>
      </div>

      <button id="orientation-btn" class="demo-btn" title="Toggle orientation">
        <svg id="orientation-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12" y2="18"/></svg>
        <span id="orientation-label">Portrait</span>
      </button>

      <div class="demo-toolbar-divider"></div>

      <div class="demo-toolbar-group">
        <span class="demo-toolbar-label">Skin</span>
        <select id="skin-picker" class="demo-select">
          <option value="default">Default</option>
          <option value="space-black">Space Black</option>
          <option value="silver">Silver</option>
          <option value="gold">Gold</option>
        </select>
      </div>

      <div class="demo-toolbar-divider"></div>

      <label class="demo-toggle">
        <input type="checkbox" id="dark-mode-toggle">
        <span class="demo-toggle-track"></span>
        Dark
      </label>

      <label class="demo-toggle">
        <input type="checkbox" id="status-bar-toggle" checked>
        <span class="demo-toggle-track"></span>
        Status Bar
      </label>
    </div>

    <!-- Row 2: URL -->
    <div class="demo-toolbar-row">
      <div class="demo-toolbar-group" style="flex:1;">
        <span class="demo-toolbar-label">URL</span>
        <input type="url" id="url-input" class="demo-input" placeholder="https://example.com">
      </div>
      <button id="url-load-btn" class="demo-btn demo-btn--primary">Load</button>
      <button id="url-clear-btn" class="demo-btn">Clear</button>
    </div>

    <!-- Device specs -->
    <div class="demo-specs" id="device-info">
      <span id="info-width">393px</span>
      <span id="info-height">852px</span>
      <span id="info-radius">55px radius</span>
      <span id="info-notch">Dynamic Island</span>
    </div>
  </div>

  <!-- Interactive Frame -->
  <div data-device="iphone-16-pro">
    <div class="sample-app">
      <div class="sample-header">
        <h2>Explore</h2>
        <div class="avatar"></div>
      </div>
      <div class="sample-content">
        <div class="sample-card" data-animate>
          <div class="sample-card-img" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
          <div class="sample-card-title">Getting Started</div>
          <div class="sample-card-text">Add frame.css and frame.js to your project, wrap content in a data-device div, and you're done.</div>
        </div>
        <div class="sample-card" data-animate>
          <div class="sample-card-img" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);"></div>
          <div class="sample-card-title">8 Device Frames</div>
          <div class="sample-card-text">iPhone 16 Pro Max, iPhone 16 Pro, iPhone 16, iPhone SE, Galaxy S24 Ultra, Galaxy S24, Pixel 9 Pro, Pixel 9.</div>
        </div>
        <div class="sample-card" data-animate>
          <div class="sample-card-img" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);"></div>
          <div class="sample-card-title">Responsive</div>
          <div class="sample-card-text">On mobile screens (&lt;500px), the frame goes fullscreen with a FAB navigation sheet. Desktop shows a sidebar.</div>
        </div>
        <div class="sample-card" data-animate>
          <div class="sample-card-img" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);"></div>
          <div class="sample-card-title">Animations</div>
          <div class="sample-card-text">Add data-animate to elements for staggered fade-in-up animations on page load.</div>
        </div>
      </div>
      <div class="sample-bottom-bar">
        <div class="sample-tab active">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>
          Home
        </div>
        <div class="sample-tab">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
          Search
        </div>
        <div class="sample-tab">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          Profile
        </div>
      </div>
    </div>
  </div>

  <!-- All Devices Grid -->
  <div class="demo-section-title">All Devices</div>
  <p class="demo-section-subtitle">Each device rendered at actual dimensions with correct notch type</p>

  <div class="demo-grid" id="all-devices-grid"></div>

  <script src="frame.js"></script>
  <script>
    /* --- Device picker --- */
    const picker = document.getElementById('device-picker');
    const infoWidth = document.getElementById('info-width');
    const infoHeight = document.getElementById('info-height');
    const infoRadius = document.getElementById('info-radius');
    const infoNotch = document.getElementById('info-notch');

    const notchLabels = {
      'dynamic-island': 'Dynamic Island',
      'notch': 'Notch',
      'punch-hole': 'Punch Hole',
      'none': 'None',
    };

    function updateDeviceInfo(deviceId) {
      const devices = DeviceFrame.getDevices();
      const spec = devices[deviceId];
      if (!spec) return;
      infoWidth.textContent = spec.width + 'px';
      infoHeight.textContent = spec.height + 'px';
      infoRadius.textContent = spec.radius + 'px radius';
      infoNotch.textContent = notchLabels[spec.notch] || spec.notch;
    }

    picker.addEventListener('change', function () {
      const deviceId = this.value;
      if (window.deviceFrame) {
        window.deviceFrame.switchDevice(deviceId);
      }
      updateDeviceInfo(deviceId);
    });

    /* --- Scale grid frames for landscape --- */
    function scaleGridFrames(orientation) {
      const gridFrames = document.querySelectorAll('#all-devices-grid .df-frame');
      const maxGridWidth = 430;

      gridFrames.forEach(function (gridFrame) {
        const deviceId = gridFrame.getAttribute('data-device');
        const spec = devices[deviceId];
        if (!spec) return;

        if (orientation === 'landscape') {
          gridFrame.setAttribute('data-orientation', 'landscape');
          const landscapeWidth = spec.height;
          const landscapeHeight = spec.width;
          if (landscapeWidth > maxGridWidth) {
            const scaleFactor = maxGridWidth / landscapeWidth;
            gridFrame.style.transform = 'scale(' + scaleFactor + ')';
            gridFrame.style.marginBottom = '-' + (landscapeHeight * (1 - scaleFactor)) + 'px';
          }
        } else {
          gridFrame.removeAttribute('data-orientation');
          gridFrame.style.transform = '';
          gridFrame.style.marginBottom = '';
        }
      });
    }

    /* --- Orientation toggle --- */
    const orientationBtn = document.getElementById('orientation-btn');
    const orientationIcon = document.getElementById('orientation-icon');
    const orientationLabel = document.getElementById('orientation-label');

    const portraitSvg = '<rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12" y2="18"/>';
    const landscapeSvg = '<rect x="2" y="4" width="20" height="16" rx="2" ry="2"/><line x1="18" y1="12" x2="18" y2="12"/>';

    orientationBtn.addEventListener('click', function () {
      if (!window.deviceFrame) return;
      const newOrientation = window.deviceFrame.toggleOrientation();
      orientationLabel.textContent = newOrientation === 'landscape' ? 'Landscape' : 'Portrait';
      orientationIcon.innerHTML = newOrientation === 'landscape' ? landscapeSvg : portraitSvg;

      /* Toggle all-devices grid orientation too */
      scaleGridFrames(newOrientation);
    });

    /* --- URL input --- */
    const urlInput = document.getElementById('url-input');
    const urlLoadBtn = document.getElementById('url-load-btn');
    const urlClearBtn = document.getElementById('url-clear-btn');
    let gridIframes = [];

    function loadUrlInFrame() {
      const url = urlInput.value.trim();
      if (!url) return;
      const normalizedUrl = url.match(/^https?:\/\//) ? url : 'https://' + url;
      urlInput.value = normalizedUrl;

      if (window.deviceFrame) {
        window.deviceFrame.loadUrl(normalizedUrl);
      }

      loadUrlToAllDevices(normalizedUrl);
    }

    function loadUrlToAllDevices(url) {
      clearGridIframes();

      const gridScreens = document.querySelectorAll('#all-devices-grid .df-screen');
      gridScreens.forEach(function (gridScreen) {
        const existingContent = gridScreen.querySelector('.grid-original-content');
        if (!existingContent) {
          const wrapper = document.createElement('div');
          wrapper.className = 'grid-original-content';
          wrapper.style.display = 'none';
          while (gridScreen.firstChild) {
            wrapper.appendChild(gridScreen.firstChild);
          }
          gridScreen.appendChild(wrapper);
        } else {
          existingContent.style.display = 'none';
        }

        const iframe = document.createElement('iframe');
        iframe.className = 'df-iframe';
        iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin allow-forms allow-popups');
        iframe.setAttribute('loading', 'lazy');
        iframe.src = url;
        gridScreen.appendChild(iframe);
        gridIframes.push(iframe);
      });
    }

    function clearGridIframes() {
      gridIframes.forEach(function (iframe) { iframe.remove(); });
      gridIframes = [];

      const gridScreens = document.querySelectorAll('#all-devices-grid .df-screen');
      gridScreens.forEach(function (gridScreen) {
        const original = gridScreen.querySelector('.grid-original-content');
        if (original) {
          original.style.display = '';
        }
      });
    }

    urlLoadBtn.addEventListener('click', loadUrlInFrame);
    urlInput.addEventListener('keydown', function (event) {
      if (event.key === 'Enter') loadUrlInFrame();
    });

    urlClearBtn.addEventListener('click', function () {
      urlInput.value = '';
      clearGridIframes();
      if (window.deviceFrame) {
        window.deviceFrame.loadUrl('');
        window.location.reload();
      }
    });

    /* --- Status bar SVGs (shared by grid builder + toggle) --- */
    const signalSvg = '<svg width="17" height="12" viewBox="0 0 17 12"><rect x="0" y="9" width="3" height="3" rx="0.5" fill="currentColor"/><rect x="4.5" y="6" width="3" height="6" rx="0.5" fill="currentColor"/><rect x="9" y="3" width="3" height="9" rx="0.5" fill="currentColor"/><rect x="13.5" y="0" width="3" height="12" rx="0.5" fill="currentColor"/></svg>';
    const wifiSvg = '<svg width="16" height="12" viewBox="0 0 16 12" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M1 3.5C4 0.5 12 0.5 15 3.5"/><path d="M3.5 6.5C5.5 4.5 10.5 4.5 12.5 6.5"/><circle cx="8" cy="10" r="1" fill="currentColor" stroke="none"/></svg>';
    const batterySvg = '<svg width="25" height="12" viewBox="0 0 25 12"><rect x="0.5" y="0.5" width="21" height="11" rx="2.5" fill="none" stroke="currentColor" stroke-width="1"/><rect x="2.5" y="2.5" width="17" height="7" rx="1.5" fill="currentColor"/><path d="M23 4v4a2 2 0 000-4z" fill="currentColor"/></svg>';

    function createGridStatusBar(deviceId) {
      const isIOS = deviceId.startsWith('iphone');
      const variant = isIOS ? 'ios' : 'android';
      const now = new Date();
      const timeStr = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

      const bar = document.createElement('div');
      bar.className = 'df-status-bar df-status-bar--' + variant;
      bar.style.display = '';
      bar.innerHTML = '<span class="df-status-bar-left"><span class="df-status-bar-time">' + timeStr + '</span></span>'
        + '<span class="df-status-bar-right"><span class="df-status-bar-icons">' + signalSvg + wifiSvg + batterySvg + '</span></span>';
      return bar;
    }

    /* --- Build all-devices grid --- */
    const grid = document.getElementById('all-devices-grid');
    const devices = DeviceFrame.getDevices();

    const deviceNames = {
      'iphone-16-pro-max': 'iPhone 16 Pro Max',
      'iphone-16-pro': 'iPhone 16 Pro',
      'iphone-16': 'iPhone 16',
      'iphone-se': 'iPhone SE 3rd',
      'galaxy-s24-ultra': 'Galaxy S24 Ultra',
      'galaxy-s24': 'Galaxy S24',
      'pixel-9-pro': 'Pixel 9 Pro',
      'pixel-9': 'Pixel 9',
    };

    const gradients = [
      'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
      'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
      'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
      'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
      'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
      'linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)',
      'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)',
      'linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)',
    ];

    Object.entries(devices).forEach(([deviceId, spec], deviceIndex) => {
      const item = document.createElement('div');
      item.className = 'demo-grid-item';

      const frame = document.createElement('div');
      frame.className = 'df-frame';
      frame.setAttribute('data-device', deviceId);
      frame.style.margin = '0 auto';

      const screen = document.createElement('div');
      screen.className = 'df-screen';
      screen.style.background = gradients[deviceIndex % gradients.length];
      screen.style.alignItems = 'center';
      screen.style.justifyContent = 'center';
      screen.style.color = '#fff';
      screen.style.fontSize = '18px';
      screen.style.fontWeight = '600';
      screen.style.textShadow = '0 1px 4px rgba(0,0,0,0.2)';
      screen.textContent = deviceNames[deviceId] || deviceId;

      frame.appendChild(screen);

      if (spec.notch !== 'none') {
        const notch = document.createElement('div');
        notch.className = `df-notch--${spec.notch}`;
        frame.appendChild(notch);
      }

      if (spec.home) {
        const indicator = document.createElement('div');
        indicator.className = 'df-home-indicator';
        frame.appendChild(indicator);
      }

      frame.appendChild(createGridStatusBar(deviceId));

      item.appendChild(frame);

      const label = document.createElement('div');
      label.className = 'demo-grid-item-label';
      label.textContent = deviceNames[deviceId];
      item.appendChild(label);

      const specs = document.createElement('div');
      specs.className = 'demo-grid-item-specs';
      specs.textContent = `${spec.width}×${spec.height} · ${spec.radius}px radius · ${notchLabels[spec.notch]}`;
      item.appendChild(specs);

      grid.appendChild(item);
    });

    /* --- Skin picker --- */
    const skinPicker = document.getElementById('skin-picker');
    skinPicker.addEventListener('change', function () {
      const skinId = this.value;
      if (window.deviceFrame) {
        window.deviceFrame.setSkin(skinId);
      }
      document.querySelectorAll('#all-devices-grid .df-frame').forEach(function (gridFrame) {
        if (skinId === 'default') {
          gridFrame.removeAttribute('data-skin');
        } else {
          gridFrame.setAttribute('data-skin', skinId);
        }
      });
    });

    /* --- Dark mode toggle --- */
    const darkModeToggle = document.getElementById('dark-mode-toggle');
    darkModeToggle.addEventListener('change', function () {
      const isDark = this.checked;
      document.body.classList.toggle('demo-dark', isDark);
      if (window.deviceFrame) {
        window.deviceFrame.setTheme(isDark ? 'dark' : 'light');
      }
    });

    /* --- Status bar toggle --- */
    const statusBarToggle = document.getElementById('status-bar-toggle');
    statusBarToggle.addEventListener('change', function () {
      const enabled = this.checked;
      if (window.deviceFrame) {
        window.deviceFrame.statusBarEnabled = enabled;
        if (enabled) {
          window.deviceFrame.renderStatusBar();
        } else {
          if (window.deviceFrame._statusBarInterval) {
            clearInterval(window.deviceFrame._statusBarInterval);
            window.deviceFrame._statusBarInterval = null;
          }
          const mainBar = window.deviceFrame.frameEl.querySelector('.df-status-bar');
          if (mainBar) mainBar.remove();
        }
      }
      document.querySelectorAll('#all-devices-grid .df-status-bar').forEach(function (bar) {
        bar.style.display = enabled ? '' : 'none';
      });
    });
  </script>
</body>
</html>
